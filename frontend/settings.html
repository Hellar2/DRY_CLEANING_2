<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Settings - Dry Cleaning Service</title>
<link rel="stylesheet" href="profile.css">
<style>
    body { font-family: Arial, sans-serif; background: #f8f9fa; margin:0; color:#333; }
    .dashboard-container { display:flex; }
    .sidebar { width:220px; background:#0b1220; color:#fff; min-height:100vh; padding:1rem; }
    .sidebar .logo { font-size:1.5rem; font-weight:bold; margin-bottom:1rem; }
    .sidebar .nav-menu { list-style:none; padding:0; }
    .sidebar .nav-menu li { margin:0.5rem 0; }
    .sidebar .nav-menu li a { color:#dbe7ff; text-decoration:none; display:block; padding:0.5rem; border-radius:4px; }
    .sidebar .nav-menu li.active a { background:#3b82f6; color:#fff; }

    .main-content { flex:1; padding:2rem; }
    .content-header h1 { margin:0 0 0.5rem 0; }
    .settings-section { background:#fff; padding:1.5rem; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); margin-bottom:2rem; }
    .settings-section h2 { margin-top:0; margin-bottom:1rem; color:#333; }
    .settings-section label { display:block; margin:0.5rem 0 0.25rem; font-weight:bold; }
    .settings-section input, .settings-section select { width:100%; padding:0.5rem; margin-bottom:1rem; border-radius:6px; border:1px solid #ccc; }
    .settings-section button { padding:0.5rem 1rem; background:#3b82f6; color:#fff; border:none; border-radius:6px; cursor:pointer; }
    .settings-section button:hover { background:#2563eb; }
    
    /* Password toggle styles */
    .password-container {
      position: relative;
      display: flex;
      align-items: center;
    }
    
    .password-container input {
      width: 100%;
      padding-right: 45px; /* Space for the toggle button */
    }
    
    .password-toggle {
      position: absolute;
      right: 10px;
      background: none;
      border: none;
      cursor: pointer;
      padding: 5px;
      border-radius: 3px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s ease;
    }
    
    .password-toggle:hover {
      background-color: #f0f0f0;
    }
    
    .eye-icon {
      font-size: 16px;
      user-select: none;
    }
</style>
</head>
<body>
<div class="dashboard-container">
    <!-- Sidebar -->
    <nav class="sidebar">
        <h2 class="logo">DRY CLEANING</h2>
        <ul class="nav-menu">
            <li><a href="cdashboard.html">Dashboard</a></li>
            <li><a href="myOrders.html">My Orders</a></li>
            <li><a href="profile.html">Profile</a></li>
            <li><a href="payment-history.html">Payment History</a></li>
            <li class="active"><a href="settings.html">Settings</a></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <header class="content-header">
            <h1>Settings</h1>
            <p>Manage your account settings and preferences.</p>
        </header>

        <!-- Profile Update Section -->
        <div class="settings-section">
            <h2>Profile Information</h2>
            <label for="fullName">Full Name</label>
            <input type="text" id="fullName" placeholder="Enter your full name">

            <label for="email">Email Address</label>
            <input type="email" id="email" placeholder="Enter your email">

            <label for="phone">Phone Number</label>
            <input type="text" id="phone" placeholder="Enter your phone number">

            <button onclick="updateProfile()">Save Profile</button>
        </div>

        <!-- Password Change Section -->
        <div class="settings-section">
            <h2>Change Password</h2>
            <label for="currentPassword">Current Password</label>
            <div class="password-container">
                <input type="password" id="currentPassword" placeholder="Enter current password">
                <button type="button" class="password-toggle" onclick="togglePassword('currentPassword')">
                    <span class="eye-icon">üëÅÔ∏è</span>
                </button>
            </div>

            <label for="newPassword">New Password</label>
            <div class="password-container">
                <input type="password" id="newPassword" placeholder="Enter new password">
                <button type="button" class="password-toggle" onclick="togglePassword('newPassword')">
                    <span class="eye-icon">üëÅÔ∏è</span>
                </button>
            </div>

            <label for="confirmPassword">Confirm New Password</label>
            <div class="password-container">
                <input type="password" id="confirmPassword" placeholder="Confirm new password">
                <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                    <span class="eye-icon">üëÅÔ∏è</span>
                </button>
            </div>

            <button onclick="changePassword()">Change Password</button>
        </div>

        <!-- Notification Preferences -->
        <div class="settings-section">
            <h2>Notification Preferences</h2>
            <label for="notifications">Receive Notifications</label>
            <select id="notifications">
                <option value="all">All Notifications</option>
                <option value="orders">Orders Only</option>
                <option value="none">None</option>
            </select>
            <button onclick="updateNotifications()">Save Preferences</button>
        </div>
    </main>
</div>

<script>
function loadSettings() {
    const saved = JSON.parse(localStorage.getItem('userSettings') || '{}');
    document.getElementById('fullName').value = saved.fullName || '';
    document.getElementById('email').value = saved.email || '';
    document.getElementById('phone').value = saved.phone || '';
    document.getElementById('notifications').value = saved.notifications || 'all';
}

function updateProfile() {
    const settings = JSON.parse(localStorage.getItem('userSettings') || '{}');
    settings.fullName = document.getElementById('fullName').value;
    settings.email = document.getElementById('email').value;
    settings.phone = document.getElementById('phone').value;
    localStorage.setItem('userSettings', JSON.stringify(settings));
    alert('Profile updated successfully!');
}

function changePassword() {
    const current = document.getElementById('currentPassword').value;
    const newPass = document.getElementById('newPassword').value;
    const confirm = document.getElementById('confirmPassword').value;

    if (!current || !newPass || !confirm) return alert('Please fill all password fields.');
    if (newPass !== confirm) return alert('New passwords do not match.');

    // For demo, store password in localStorage (not secure in production)
    const settings = JSON.parse(localStorage.getItem('userSettings') || '{}');
    settings.password = newPass;
    localStorage.setItem('userSettings', JSON.stringify(settings));
    alert('Password changed successfully!');
    document.getElementById('currentPassword').value = '';
    document.getElementById('newPassword').value = '';
    document.getElementById('confirmPassword').value = '';
}

function updateNotifications() {
    const settings = JSON.parse(localStorage.getItem('userSettings') || '{}');
    settings.notifications = document.getElementById('notifications').value;
    localStorage.setItem('userSettings', JSON.stringify(settings));
    alert('Notification preferences updated!');
}

document.addEventListener('DOMContentLoaded', loadSettings);

// Toggle password visibility
function togglePassword(inputId) {
  const passwordInput = document.getElementById(inputId);
  const eyeIcon = passwordInput.nextElementSibling.querySelector('.eye-icon');
  
  if (passwordInput.type === 'password') {
    passwordInput.type = 'text';
    eyeIcon.textContent = 'üôà';
  } else {
    passwordInput.type = 'password';
    eyeIcon.textContent = 'üëÅÔ∏è';
  }
}
</script>
</body>
</html>
